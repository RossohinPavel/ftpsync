# ftpsync.py

Скрипт на python для синхронизации содержимого проекта/каталога с таким-же каталогом на ftp-сервере.
Совместим с Python версии 3.12 и старше. Возможно, работает и на более старых версиях.
Не требует никаких сторонних библиотек. Можно использовать с "коробочной версией змейки".

## Использование скрипта.

### Создание конфигурационного файла.

Файл нужен для того, чтобы каждый раз при запуске скрипта не заполнять различную информацию. Без этого файла скрипт не будет работать.
После создания файла конфигурации (ftps.json), необходимо добавить добавить его в .gitignore так как он содержит в себе персональную информацию и не должен попадать на публичные сервисы.

Делается это посредством комманды
```bash
python ftpsync.py <path_to_project> --config
```
<path_to_project> - относительный или абсолютный путь до каталога проекта. Параметр не обязательный. Если не указан, берется каталог, откуда была инициирована точка входа в скрипт.

Формат файла следующий:
```json
{
    "host": "0.0.0.0",                  // Хост ftp-сервера. Если используется другой порт, отличный от 21 (стандартный для ftp) указывается после двоеточия.
    "user": "user_name",                // Логин для фхода на сервер
    "password": "pass_word",            // Пароль для входа на сервер
    "ftp_path": "www/my_site",          // Адрес каталога на сервере, относительно каталога доступа для user
    "exclude": [                        // Массив, который может содержать имена, которые не нужно отправлять на сервер. 
        "ftpsync.py",                   // Только полное совпадние, никаких масок. 
        "ftps.json",                    // Соответственно, если записано имя каталога, то все содержимое будет проигнорировано.
        "venv",
        "__pycache__",
        ".git"
    ],
    "files": {}                         // Техническое поле, куда будет заноситься инормация для кеширования данных. Редактирование ее на свой страх и риск.
}
```

### Работа со скриптом

Для синхронизации файлов с сервером используем команду
```bash
python ftpsync.py <path_to_project>
```
<path_to_project> - относительный или абсолютный путь до каталога проекта. Параметр не обязательный. Если не указан, берется каталог, откуда была инициирована точка входа в скрипт.

Будет выведен лог с отправленными файлами и общим количеством.
Удобно, когда файл со скриптом лежит в корней вашей папки с проектами. 

## История изменений

### 15.11.2024
- Написан